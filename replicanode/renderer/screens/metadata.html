<div class="flex h-[calc(100vh-4rem)] max-h-full bg-gray-950 text-gray-200">

    <!-- Sidebar -->
    <aside id="metadataSidebar" class="w-64 bg-gray-900 border-r border-gray-800 hidden md:flex flex-col">

        <!-- Sidebar search -->
        <div class="p-3 border-b border-gray-800 sticky top-0 bg-gray-900 z-10">
            <input id="sidebarSearch" type="text" placeholder="Search metadata..."
                class="w-full px-3 py-2 rounded-md bg-gray-800 border border-gray-700 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500" />
        </div>

        <!-- Sidebar list -->
        <div id="sidebarList" class="flex-1 overflow-y-auto py-2"></div>
    </aside>

    <!-- Mobile dropdown -->
    <div class="md:hidden w-full p-2 bg-gray-900 border-b border-gray-800">
        <select id="mobileGroupSelect"
            class="w-full bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-white">
        </select>
    </div>

    <!-- Main -->
    <div class="grid grid-cols-3 gap-4 flex-1 overflow-hidden p-3">

        <!-- Items Panel -->
        <div class="col-span-1 flex flex-col bg-gray-900 rounded-xl border border-gray-800 overflow-hidden">

            <!-- Sticky header -->
            <div class="p-3 border-b border-gray-800 bg-gray-900 sticky top-0 z-10">

                <div class="flex items-center justify-between mb-2">
                    <h2 class="text-sm font-semibold tracking-wide">
                        Items
                    </h2>
                    <span id="selectedCount" class="text-xs text-gray-400"></span>
                </div>

                <input type="text" id="itemSearch" placeholder="Search items..."
                    class="w-full px-3 py-2 rounded-md bg-gray-800 border border-gray-700 text-sm mb-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" />

                <div class="flex gap-2">
                    <button id="selectAllBtn"
                        class="flex-1 py-2 text-xs bg-gray-800 hover:bg-gray-700 rounded-md border border-gray-700">
                        Select All
                    </button>
                    <button id="deselectAllBtn"
                        class="flex-1 py-2 text-xs bg-gray-800 hover:bg-gray-700 rounded-md border border-gray-700">
                        Clear
                    </button>
                </div>
            </div>

            <!-- Items list -->
            <div id="itemsList" class="flex-1 overflow-y-auto p-2 space-y-2"></div>
        </div>

        <!-- Preview Panel -->
        <div class="col-span-2 bg-gray-900 rounded-xl border border-gray-800 flex flex-col overflow-hidden">

            <!-- Preview header -->
            <div id="previewHeader"
                class="px-4 py-2 border-b border-gray-800 text-sm text-gray-400 flex items-center justify-between">
                <span>No file selected</span>
            </div>

            <!-- Monaco mount -->
            <div id="fileViewer" class="flex-1 overflow-hidden"></div>
        </div>

    </div>
</div>